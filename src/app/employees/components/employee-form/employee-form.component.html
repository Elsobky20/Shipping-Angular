<div class="container">
  <h2>{{ isEditMode ? 'Edit Employee' : 'Add Employee' }}</h2>
  <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
  <form #employeeForm="ngForm" (ngSubmit)="saveEmployee()">
    <div class="form-group">
      <label for="name">Name:</label>
      <input 
        type="text" 
        id="name" 
        class="form-control" 
        [(ngModel)]="employee.name" 
        name="name" 
        required 
        (blur)="validateField('name')"
      />
      <div *ngIf="formErrors['name']" class="text-danger">{{ formErrors['name'] }}</div>
    </div>
    <div class="form-group">
      <label for="email">Email:</label>
      <input 
        type="email" 
        id="email" 
        class="form-control" 
        [(ngModel)]="employee.email" 
        name="email" 
        required 
        (blur)="validateField('email')"
      />
      <div *ngIf="formErrors['email']" class="text-danger">{{ formErrors['email'] }}</div>
    </div>
    <div class="form-group" *ngIf="!isEditMode">
      <label for="password">Password:</label>
      <input 
        type="password" 
        id="password" 
        class="form-control" 
        [(ngModel)]="employee.password" 
        name="password" 
        required 
        (blur)="validateField('password')"
      />
      <div *ngIf="formErrors['password']" class="text-danger">{{ formErrors['password'] }}</div>
    </div>
    <div class="form-group" *ngIf="!isEditMode">
      <label for="confirmPassword">Confirm Password:</label>
      <input 
        type="password" 
        id="confirmPassword" 
        class="form-control" 
        [(ngModel)]="employee.confirmPassword" 
        name="confirmPassword" 
        required 
        (blur)="validateField('confirmPassword')"
      />
      <div *ngIf="formErrors['confirmPassword']" class="text-danger">{{ formErrors['confirmPassword'] }}</div>
    </div>
    <div class="form-group">
      <label for="phone">Phone:</label>
      <input 
        type="text" 
        id="phone" 
        class="form-control" 
        [(ngModel)]="employee.phone" 
        name="phone" 
        (blur)="validateField('phone')"
      />
      <div *ngIf="formErrors['phone']" class="text-danger">{{ formErrors['phone'] }}</div>
    </div>
    <div class="form-group">
      <label for="address">Address:</label>
      <input 
        type="text" 
        id="address" 
        class="form-control" 
        [(ngModel)]="employee.address" 
        name="address"
      />
    </div>
    <div class="form-group">
      <label for="role">Role:</label>
      <select 
        id="role" 
        class="form-control" 
        [(ngModel)]="employee.role" 
        name="role" 
        required 
        (blur)="validateField('role')"
      >
        <option value="" disabled>Select a role</option>
        <option *ngFor="let role of roles" [value]="role.name">{{ role.name }}</option>
      </select>
      <div *ngIf="formErrors['role']" class="text-danger">{{ formErrors['role'] }}</div>
    </div>
    <div class="form-group">
      <label for="branchId">Branch ID:</label>
      <input 
        type="number" 
        id="branchId" 
        class="form-control" 
        [(ngModel)]="employee.branchId" 
        name="branchId" 
        required 
        (blur)="validateField('branchId')"
      />
      <div *ngIf="formErrors['branchId']" class="text-danger">{{ formErrors['branchId'] }}</div>
    </div>
    <button type="submit" class="btn btn-primary">{{ isEditMode ? 'Update' : 'Add' }}</button>
    <button type="button" class="btn btn-secondary" (click)="cancel()">Cancel</button>
  </form>
</div>